## Historical Perspective and References

> ##历史观点和参考

This appendix has taken the perspective that interconnection networks for very different domains—from on-chip networks within a processor chip to wide area networks connecting computers across the globe—share many of the same concerns. With this, interconnection network concepts are presented in a uni- fied way, irrespective of their application; however, their histories are vastly different, as evidenced by the different solutions adopted to address similar problems. The lack of significant interaction between research communities from the different domains certainly contributed to the diversity of implemented solutions. Highlighted below are relevant readings on each topic. In addi- tion, good general texts featuring WAN and LAN networking have been written by [Davie, Peterson, and Clark \[1999\]](#_bookmark652) and by [Kurose and Ross](#_bookmark663) [\[2001\]](#_bookmark663). Good texts focused on SANs for multiprocessors and clusters have been written by [Duato, Yalamanchili, and Ni \[2003\]](#_bookmark654) and by [Dally and](#_bookmark651) [Towles \[2004\]](#_bookmark651). An informative chapter devoted to dead-lock resolution in interconnection networks was written by [Pinkston \[2004\]](#_bookmark668). Finally, an edited work by [Jantsch and Tenhunen \[2003\]](#_bookmark660) on OCNs for multicore processors and system-on-chips is also interesting reading.

> 该附录具有这样的观点，即互连网络与非常不同的域(从处理器芯片中的芯片网络到连接全球计算机的广域网络)都表现出许多相同的问题。这样，互连网络概念以一种单一的方式提出，而不论其应用如何；但是，它们的历史大不相同，这是通过用于解决类似问题的不同解决方案所证明的。来自不同领域的研究社区之间缺乏重大互动，无疑促进了实施解决方案的多样性。下面突出显示了每个主题的相关读数。](#_ bookmark666)。[Duato，Yalamanchili 和 Ni \ [2003 \]](#_ bookmark654)和[dally and](#_bookmark651)[towles \ [2004 \](＃](＃](＃](＃](＃bookmark654)，\_Bookmark651)。[Pinkston \ [2004 \]](#_ bookmark668)撰写了一章，该章节专门针对互连网络中的死锁分辨率。最后，[Jantsch and Tenhunen \ [2003 \]](#\_ bookmark660)在 OCNS 上为多核算处理器和芯片系统上的系统编辑的工作也很有趣。

### Wide Area Networks

> ###广域网络

Wide area networks are the earliest of the data interconnection networks. The fore- runner of the Internet is the ARPANET, which in 1969 connected computer sci- ence departments across the United States that had research grants funded by the Advanced Research Project Agency (ARPA), a U.S. government agency. It was originally envisioned as using reliable communications at lower levels. Practical experience with failures of the underlying technology led to the failure-tolerant TCP/IP, which is the basis for the Internet today. Vint Cerf and Robert Kahn are credited with developing the TCP/IP protocols in the mid-1970s, winning the ACM Software Award in recognition of that achievement. [Kahn \[1972\]](#_bookmark661) is an early reference on the ideas of ARPANET. For those interested in learning more about TPC/IP, [Stevens \[1994–1996\]](#_bookmark677) has written classic books on the topic.

> 广域网络是数据互连网络中最早的网络。互联网的前跑者是 ARPANET，该 ARPANET 于 1969 年与美国政府机构高级研究项目局(ARPA)资助的研究赠款相关的计算机科学部门。它最初设想为在较低级别使用可靠的通信。基础技术失败的实践经验导致了容忍失败的 TCP/IP，这是当今互联网的基础。Vint Cerf 和 Robert Kahn 因在 1970 年代中期开发 TCP/IP 协议而赢得了 ACM 软件奖，以表彰这一成就。[Kahn \ [1972 \]](#_ bookmark661)是关于 Arpanet 思想的早期参考。对于有兴趣了解 TPC/IP 的人，[Stevens \ [1994–1996 \]](#_ bookmark677)已经写了有关该主题的经典书籍。

In 1975, there were roughly 100 networks in the ARPANET; in 1983, only

> 1975 年，Arpanet 大约有 100 个网络。1983 年，仅

200\. In 1995, the Internet encompassed 50,000 networks worldwide, about half of which were in the United States. That number is hard to calculate now, but the number of IP hosts grew by a factor of 15 from 1995 to 2000, reaching 100 million Internet hosts by the end of 2000. It has grown much faster since then. With most service providers assigning dynamic IP addresses, many local area networks using private IP addresses, and with most networks allowing wireless connections, the total number of hosts in the Internet is nearly impossible to compute. In July 2005, the Internet Systems Consortium ([_www.isc.org_](http://www.isc.org/)) estimated more than 350 million Internet hosts, with an annual increase of about 25% projected. Although key government networks made the Internet possible (i.e., ARPANET and NSFNET), these networks have been taken over by the commercial sector, allow- ing the Internet to thrive. But major innovations to the Internet are still likely to come from government-sponsored research projects rather than from the commer- cial sector. The National Science Foundation’s Global Environment for Network Innovation (GENI) initiative is an example of this.

> 200 \。1995 年，互联网涵盖了全球 50,000 个网络，其中约有一半在美国。这个数字现在很难计算，但是从 1995 年到 2000 年，IP 主机的数量增长了 15 倍，到 2000 年底达到了 1 亿个互联网主机。此后，它的增长速度快得多。大多数服务提供商分配动态 IP 地址，许多使用专用 IP 地址的局域网以及大多数网络允许无线连接，因此几乎无法计算 Internet 中的主机总数。2005 年 7 月，Internet Systems 联盟([_[www.isc.org](http://www.isc.org)_]([http://www.isc.org/](http://www.isc.org/))估计超过 3.5 亿个互联网主机，预计预计约 25％。尽管关键的政府网络使互联网成为可能(即 Arpanet 和 NSFNet)，但这些网络已被商业部门接管，允许互联网蓬勃发展。但是，互联网的重大创新仍然可能来自政府赞助的研究项目，而不是来自商业部门。国家科学基金会的全球网络创新环境(GENI)倡议就是一个例子。

The most exciting application of the Internet is the World Wide Web, devel- oped in 1989 by Tim Berners-Lee, a programmer at the European Center for Par- ticle Research (CERN), for information access. In 1992, a young programmer at the University of Illinois, Marc Andreessen, developed a graphical interface for the Web called Mosaic. It became immensely popular. He later became a founder of Netscape, which popularized commercial browsers. In May 1995, at the time of the second edition of this book, there were over 30,000 Web pages, and the number was doubling every two months. During the writing of the third edition of this text, there were more than 1.3 billion Web pages. In December 2005, the number of Web servers approached 75 million, having increased by 30% during that same year.

> 互联网最激动人心的应用是欧洲派系研究中心(CERN)的程序员 Tim Berners-Lee 于 1989 年开发的万维网，用于信息访问。1992 年，伊利诺伊大学的一名年轻程序员马克·安德森(Marc Andreessen)为网络开发了一个名为 Mosaic 的图形界面。它变得非常受欢迎。后来，他成为 Netscape 的创始人，该公司普及了商业浏览器。1995 年 5 月，在本书第二版时，有 30,000 多个网页，而且数字每两个月翻了一番。在本文第三版的撰写期间，有超过 13 亿的网页。2005 年 12 月，网络服务器的数量接近 7500 万，同年增长了 30％。

Asynchronous Transfer Mode (ATM) was an attempt to design the definitive communication standard. It provided good support for data transmission as well as digital voice transmission (i.e., phone calls). From a technical point of view, it combined the best from packet switching and circuit switching, also providing excellent support for providing quality of service (QoS). [Alles \[1995\]](#_bookmark642) offers a good

> 异步传输模式(ATM)是设计确定通信标准的尝试。它为数据传输以及数字语音传输(即电话)提供了良好的支持。从技术的角度来看，它结合了数据包切换和电路切换的最佳选择，还为提供服务质量(QoS)提供了出色的支持。[ALLES \ [1995 \]](#\_ bookmark642)提供了一个很好的

survey on ATM. In 1995, no one doubted that ATM was going to be the future for this community. Ten years later, the high equipment and personnel training costs basically killed ATM, and we returned back to the simplicity of TCP/IP. Another important blow to ATM was its defeat by the Ethernet family in the LAN domain, where packet switching achieved significantly lower latencies than ATM, which required establishing a connection before data transmission. ATM connectionless servers were later introduced in an attempt to fix this problem, but they were expen- sive and represented a central bottleneck in the LAN.

> 关于 ATM 的调查。在 1995 年，没有人怀疑 ATM 将成为这个社区的未来。十年后，高设备和人员培训费用基本上杀死了 ATM，我们回到了 TCP/IP 的简单性。对 ATM 的另一个重要打击是其在 LAN 域中被以太网家族击败，在 LAN 域中，数据包切换的潜伏期明显低于 ATM，这需要在数据传输之前建立连接。ATM 无连接的服务器后来引入了试图解决此问题，但它们是出售的，并在 LAN 中代表了中央瓶颈。

Finally, WANs today rely on optical fiber. Fiber technology has made so many advances that today WAN fiber bandwidth is often underutilized. The main reason for this is the commercial introduction of wavelength division multiplexing (WDM), which allows each fiber to transmit many data streams simultaneously over different wavelengths, thus allowing three orders of mag- nitude bandwidth increase in just one generation, that is, 3 to 5 years (a good text by [Senior \[1993\]](#_bookmark675) discusses optical fiber communications). However, IP routers may still become a bottleneck. At 10- to 40-Gbps link rates, and with thousands of ports in large core IP routers, packets must be processed very quickly—that is, within a few tens of nanoseconds. The most time-consuming operation is routing. The way IP addresses have been defined and assigned to Internet hosts makes routing very complicated, usually requiring a complex search in a tree structure for every packet. Network processors have become popular as a cost-effective solution for implementing routing and other packet-filtering operations. They usually are RISC-like and highly multi- threaded and implement local stores instead of caches.

> 最后，今天，WANS 依靠光纤。纤维技术取得了许多进步，以至于今天 WAN 纤维带宽通常不足。其主要原因是波长乘积多路复用(WDM)的商业介绍，它允许每只光纤通过不同的波长同时传输许多数据流，从而允许仅一代人增加三个级的杂志带宽，也就是说 3 级。到 5 年([高级\ [1993 \]](#\_ bookmark675)的好文本讨论光纤通信)。但是，IP 路由器可能仍然成为瓶颈。在 10 至 40 Gbps 的链接率和大型核心 IP 路由器中的数千个端口时，数据包必须很快处理，即在几十纳秒内。最耗时的操作是路由。将 IP 地址定义和分配给 Internet 主机的方式使路由非常复杂，通常需要在每个数据包中进行树结构进行复杂的搜索。网络处理器已成为一种具有成本效益的解决方案，用于实施路由和其他数据包过滤操作。它们通常是类似 RISC 的，高度多线的，并实现本地商店而不是缓存。

### Local Area Networks

> ###局域网

ARPA’s success with wide area networks led directly to the most popular local area networks. Many researchers at Xerox Palo Alto Research Center had been funded by ARPA while working at universities, so they all knew the value of networking. In 1974, this group invented the Alto, the forerunner of today’s desktop computers \[[Thacker et al. 1982](#_bookmark681)\], and the Ethernet \[[Metcalfe and Boggs 1976](#_bookmark666)\], today’s LAN. This group—David Boggs, Butler Lampson, Ed McCreight, Bob Sprowl, and Chuck Thacker—became luminaries in computer science and engineering, collect- ing a treasure chest of awards among them.

> ARPA 在广泛网络中的成功直接导致了最受欢迎的局域网。施乐帕洛阿尔托研究中心的许多研究人员在大学工作时由 ARPA 资助，因此他们都知道网络的价值。1974 年，该小组发明了当今台式计算机的先驱\ [[Thacker 等。[1982](#_ bookmark681)\]和以太网\ [[Metcalfe and Boggs 1976](#_ bookmark666)\]，今天的 LAN。这个小组 - 戴维·博格斯(David Boggs)，巴特勒·兰普森(Butler Lampson)，埃德·麦克雷特(Ed McCreight)，鲍勃·斯普罗尔(Bob Sprowl)和查克·塔克(Chuck Thacker) - 计算机科学和工程学中的杰出人物，收集了其中的宝箱。

This first Ethernet provided a 3-Mbit/sec interconnection, which seemed like an unlimited amount of communication bandwidth with computers of that era. It relied on the interconnect technology developed for the cable television industry. Special microcode support gave a round-trip time of 50 μs for the Alto over Ether- net, which is still a respectable latency. It was Boggs’ experience as a ham radio operator that led to a design that did not need a central arbiter, but instead listened before use and then varied back-off times in case of conflicts.

> 第一个以太网提供了 3-mbit/sec 的互连，这似乎是与该时代的计算机的无限量通信带宽。它依靠为有线电视行业开发的互连技术。特殊的微码支持给出了 50μs 的往返时间，使中心网络网络仍然是可观的潜伏期。正是 Boggs 作为 HAM 无线电操作员的经验导致了不需要中央仲裁者的设计，而是在使用前聆听，然后在发生冲突的情况下进行了不同的后退时间。

The announcement by Digital Equipment Corporation, Intel, and Xerox of a standard for 10-Mbit/sec Ethernet was critical to the commercial success of

> 数字设备公司，英特尔和 Xerox 公告 10 毫米/秒以太网的标准对于商业成功至关重要

Ethernet. This announcement short-circuited a lengthy IEEE standards effort, which eventually did publish IEEE 802.3 as a standard for Ethernet.

> 以太网。这一公告短路为 IEEE 的冗长标准工作，最终确实出版了 IEEE 802.3 作为以太网的标准。

There have been several unsuccessful candidates that have tried to replace the Ethernet. The Fiber Data Distribution Interconnect (FDDI) committee, unfortu- nately, took a very long time to agree on the standard, and the resulting interfaces were expensive. It was also a shared medium when switches were becoming affordable. ATM also missed the opportunity in part because of the long time to standardize the LAN version of ATM, and in part because of the high latency and poor behavior of ATM connectionless servers, as mentioned above. Infini- Band for the reasons discussed below has also faltered. As a result, Ethernet con- tinues to be the absolute leader in the LAN environment, and it remains a strong opponent in the high-performance computing market as well, competing against the SANs by delivering high bandwidth at low cost. The main drawback of Ether- net for high-end systems is its relatively high latency and lack of support in most interface cards to implement the necessary protocols.

> 有几个失败的候选人试图取代以太网。不幸的是，纤维数据分布互连(FDDI)委员会花了很长时间就达成协议，因此所得的界面很昂贵。当开关变得负担得起时，这也是一种共同的媒介。ATM 也错过了机会，部分原因是标准化了 LAN 版本的 ATM 版本，部分原因是 ATM 无连接服务器的延迟和不良行为，如上所述。由于下面讨论的原因，不足带也步履蹒跚。结果，以太网的连续性是 LAN 环境中的绝对领导者，并且在高性能计算市场中仍然是强大的对手，通过以低成本提供高带宽，与 SANS 竞争。高端系统的 Ether-Net 的主要缺点是其相对较高的延迟和大多数接口卡中无法实现必要协议的支持。

Because of failures of the past, LAN modernization efforts have been centered on extending Ethernet to lower-cost media such as unshielded twisted pair (UTP), switched interconnects, and higher link speeds as well as to new domains such as wireless communication. Practically all new PC motherboards and laptops imple- ment a Fast/Gigabit Ethernet port (100/1000 Mbps), and most laptops implement a 54 Mbps Wireless Ethernet connection. Also, home wired or wireless LANs con- necting all the home appliances, set-top boxes, desktops, and laptops to a shared Internet connection are very common. [Spurgeon \[2006\]](#_bookmark676) has provided a nice online summary of Ethernet technology, including some of its history.

> 由于过去的失败，LAN 的现代化工作集中在将以太网扩展到较低成本的媒体上，例如未屏蔽的扭曲对(UTP)，交换互连，更高的链路速度以及无线通信等新域。实际上，所有新的 PC 主板和笔记本电脑都会设置快速/千兆以太网端口(100/1000 Mbps)，并且大多数笔记本电脑实现了 54 Mbps Wireless 以太网连接。此外，将所有家用电器，机顶盒，台式机和笔记本电脑连接到共享的 Internet 连接非常普遍。[Spurgeon \ [2006 \]](#\_ Bookmark676)提供了一个不错的以太网技术的在线摘要，包括其一些历史。

### System Area Networks

> ###系统区域网络

One of the first nonblocking multistage interconnection networks was proposed by [Clos \[1953\]](#_bookmark646) for use in telephone exchange offices. Building on this, many early inventions for system area networks came from their use in massively parallel pro- cessors (MPPs). One of the first MPPs was the Illiac IV, a SIMD array built in the early 1970s with 64 processing elements (“massive” at that time) interconnected using a topology based on a 2D torus that provided neighbor-to-neighbor commu- nication. Another representative of early MPP was the Cosmic Cube, which used Ethernet interface chips to connect 64 processors in a 6-cube. Communication between nonneighboring nodes was made possible by store-and-forwarding of packets at intermediate nodes toward their final destination. A much larger and truly “massive” MPP built in the mid-1980s was the Connection Machine, a SIMD multiprocessor consisting of 64 K 1-bit processing elements, which also used a hypercube with store-and-forwarding. Since these early MPP machines, intercon- nection networks have improved considerably.

> [clos \ [1953 \]](#\_ bookmark646)提出了第一个非阻止多阶段互连网络之一，用于电话交换办公室。在此基础上，许多针对系统区域网络的早期发明来自它们在大规模并行专业人员(MPP)中的使用。第一批 MPP 是 Illiac IV，这是一个建于 1970 年代初期的 SIMD 阵列，其处理元素(当时为“大规模”)使用基于拓扑结合的 2D 圆环互连，该拓扑是基于 2D 圆环，该拓扑提供了邻居到邻居的通勤。早期 MPP 的另一个代表是宇宙立方体，它使用以太网界面芯片连接 64 个立方体中的 64 个处理器。通过在中间节点向最终目的地的中间节点的数据包存储和抛光，可以使非邻泊节点之间的通信成为可能。Connection Machine 是一款由 64 K 1 位处理元件组成的 SIMD 多处理器，它是 1980 年代中期建造的更大且真正的“庞大” MPP，它还使用了 HyperCube 和存储和转向的 HyperCube。由于这些早期的 MPP 机器，互连网络已大大改善。

In the 1970s through the 1990s, considerable research went into trying to opti- mize the topology and, later, the routing algorithm, switching, arbitration, and flow control techniques. Initially, research focused on maximizing performance with

> 在 1970 年代到 1990 年代，大量研究试图探索拓扑结构，后来又尝试了路由算法，切换，仲裁和流量控制技术。最初，研究重点是通过

little attention paid to implementation constraints or crosscutting issues. Many exotic topologies were proposed having very interesting properties, but most of them complicated the routing. Rising from the fray was the hypercube, a very pop- ular network in the 1980s that has all but disappeared from MPPs since the 1990s. What contributed to this shift was a performance model by [Dally \[1990\]](#_bookmark647) that showed that if the implementation is wire limited, lower-dimensional topologies achieve better performance than higher-dimensional ones because of their wider links for a given wire budget. Many designers followed that trend assuming their designs to be wire limited, even though most implementations were (and still are) pin limited. Several supercomputers since the 1990s have implemented low- dimensional topologies, including the Intel Paragon, Cray T3D, Cray T3E, HP AlphaServer, Intel ASCI Red, and IBM Blue Gene/L.

> 很少关注实施约束或横切问题。有人提出了许多外来拓扑结构，具有非常有趣的属性，但大多数拓扑使路由复杂化。从战斗中升起的是 HyperCube，这是 1980 年代非常流行的网络，自 1990 年代以来几乎从 MPP 中消失了。促成这一转变的是[Dally \ [1990 \]](#\_ bookmark647)的性能模型，该模型表明，如果实现是有限的，则较低的拓扑成绩要比更高维度的拓扑获得更好的性能，因为它们的较宽链接具有更大的链接给定的电线预算。许多设计师遵循了这一趋势，假设其设计受到电线有限，即使大多数实施是(而且仍然是)销钉限制。自 1990 年代以来的几个超级计算机已经实施了低维拓扑，包括英特尔·帕拉贡(Intel Paragon)，克雷 T3D，克雷 T3E，HP Alphasver，Intel Asci Red 和 IBM Blue Gene/L。

Meanwhile, other designers followed a very different approach, implementing bidirectional MINs in order to reduce the number of required switches below the number of network nodes. The most popular bidirectional MIN was the fat tree topology, originally proposed by [Leiserson \[1985\]](#_bookmark664) and first used in the Connection Machine CM-5 supercomputer and, later, the IBM ASCI White and ASC Purple supercomputers. This indirect topology was also used in several European parallel computers based on the Transputer. The Quadrics network has inherited character- istics from some of those Transputer-based networks. Myrinet has also evolved significantly from its first version, with Myrinet 2000 incorporating the fat tree as its principal topology. Indeed, most current implementations of SANs, including Myrinet, InfiniBand, and Quadrics as well as future implementations such as PCI- Express Advanced Switching, are based on fat trees.

> 同时，其他设计师遵循了一种非常不同的方法，实现了双向分钟，以减少低于网络节点的所需开关数量。最受欢迎的双向最小是脂肪树的拓扑结构，最初是由[Leiserson \ [1985 \]](#\_ bookmark664)提出的，并首次用于连接机 CM-5 SuperComputer，后来又用于 IBM ASCI White 和 ASC Purple SuperComputers。该间接拓扑也用于基于变速箱的几台欧洲平行计算机中。四元网络已从基于偏移仪的一些网络中继承了字符。Myrinet 也从其第一个版本中显着发展，Myrinet 2000 将脂肪树融合为主要拓扑。实际上，包括 Myrinet，Infiniband 和 Quadrics 以及 PCI Express Advanced Switching 等未来实现的 SAN 的大多数实施是基于肥厚的树木。

Although the topology is the most visible aspect of a network, other features also have a significant impact on performance. A seminal work that raised aware- ness of deadlock properties in computer systems was published by [Holt \[1972\]](#_bookmark658). Early techniques for avoiding deadlock in store-and-forward networks were pro- posed by [Merlin and Schweitzer \[1980\]](#_bookmark665) and by [Gunther \[1981\]](#_bookmark656). Pipelined switch- ing techniques were first introduced by [Kermani and Kleinrock \[1979\]](#_bookmark662) (virtual cut- through) and improved upon by [Dally and Seitz \[1986\]](#_bookmark650) (wormhole), which signif- icantly reduced low-load latency and the topology’s impact on message latency over previously proposed techniques. Wormhole switching was initially better than virtual cut-through largely because flow control could be implemented at a granularity smaller than a packet, allowing high-bandwidth links that were not as constrained by available switch memory bandwidth. Today, virtual cut-through is usually preferred over wormhole because it achieves higher throughput due to less HOL blocking effects and is enabled by current integration technology that allows the implementation of many packet buffers per link.

> 尽管拓扑是网络中最明显的方面，但其他功能也对性能产生重大影响。[Holt \ [1972 \]](#_ bookmark658)发表了一项针对计算机系统中僵局属性的开创性工作。[Merlin 和 Schweitzer \ [1980 \]](#_ bookmark665)和[gunther \ [1981 \]](#_kmark656)提出了避免在商店和前向网络中避免僵局的早期技术。管道开关技术首先是由[Kermani 和 Kleinrock \ [1979 \]](#_ bookmark662)(虚拟切割)引入的，并改进了[Dally and Seitz and Seitz \ [1986 \]](#\_ bookmark650)，这显着降低了低负载潜伏期，并且拓扑对以前提出的技术对消息延迟的影响。虫洞开关最初比虚拟切割要好，这主要是因为可以在小于数据包的粒度下实现流量控制，从而使高带宽链接不受可用的开关内存存储器带宽的约束。如今，虚拟切割通常比虫洞优选，因为它由于较少的 hol 阻塞效果而获得更高的吞吐量，并且可以通过当前的集成技术来实现，该技术允许每个链接实现许多数据包缓冲区。

[Tamir and Frazier \[1992\]](#_bookmark679) laid the groundwork for virtual output queuing with the notion of dynamically allocated multiqueues. Around this same time, [Dally](#_bookmark648) [\[1992\]](#_bookmark648) contributed the concept of virtual channels, which was key to the develop- ment of more efficient deadlock-free routing algorithms and congestion-reducing flow control techniques for improved network throughput. Another highly relevant contribution to routing was a new theory proposed by [Duato \[1993\]](#_bookmark653) that allowed

> [Tamir and Frazier \ [1992 \]](#_ bookmark679)用动态分配的多名概念为虚拟输出排列了基础。大约在同一时间，[dally](#_ bookmark648)[\ [1992 \]](#_ bookmark648)贡献了虚拟渠道的概念，这是开发更高效的无僵持的路由算法和补偿的关键用于改进网络吞吐量的流量控制技术。对路由的另一个高度相关贡献是[Duato \ [1993 \]](#_ bookmark653)提出的一种新理论，该理论允许

the implementation of fully adaptive routing with just one “escape” virtual channel to avoid deadlock. Previous to this, the required number of virtual channels to avoid deadlock increased exponentially with the number of network dimensions. [Pinkston and Warnakulasuriya \[1997\]](#_bookmark670) went on to show that deadlock actually can occur very infrequently, giving credence to deadlock recovery routing approaches. [Scott and Goodman \[1994\]](#_bookmark674) were among the first to analyze the usefulness of pipe- lined channels for making link bandwidth independent of the time of flight. These and many other innovations have become quite popular, finding use in most high- performance interconnection networks, both past and present. The IBM Blue Gene/L, for example, implements virtual cut-through switching, four virtual chan- nels per link, fully adaptive routing with one escape channel, and pipelined links. MPPs represent a very small (and currently shrinking) fraction of the informa- tion technology market, giving way to bladed servers and clusters. In the United States, government programs such as the Advanced Simulation and Computing (ASC) program (formerly known as the Accelerated Strategic Computing Initia- tive, or ASCI) have promoted the design of those machines, resulting in a series of increasingly powerful one-of-a-kind MPPs costing $50 million to $100 million. These days, many are basically lower-cost clusters of symmetric multiprocessors (SMPs) (see [Pfister \[1998\]](#_bookmark667) and [Sterling \[2001\]](#_bookmark678) for two perspectives on clustering). In fact, in 2005, nearly 75% of the TOP500 supercomputers were clusters. Nev- ertheless, the design of each generation of MPPs and even clusters pushes inter- connection network research forward to confront new problems arising due to shear size and other scaling factors. For instance, source-based routing—the sim- plest form of routing—does not scale well to large systems. Likewise, fat trees require increasingly longer links as the network size increases, which led IBM Blue Gene/L designers to adopt a 3D torus network with distributed routing that can be

> 仅使用一个“逃生”虚拟渠道实施完全自适应路由，以避免僵局。在此之前，随着网络维度的数量，所需的虚拟通道数量避免了僵局。[Pinkston 和 Warnakulasuriya \ [1997 \]](#_ bookmark670)继续表明，僵局实际上可能很少发生，从而使僵局恢复路线的方法具有可信度。[Scott and Goodman \ [1994 \]](#_ bookmark674)是第一个分析管道衬里通道的有用性，以使链路带宽独立于飞行时间。这些和许多其他创新已经变得非常流行，在过去和现在的大多数高性能互连网络中都可以使用。例如，IBM 蓝色基因/L 实现虚拟切换开关，每个链接的四个虚拟 Channels，一个带有一个逃生通道的完全自适应路由以及管道上的链接。MPP 代表了信息技术市场的很小(目前正在缩小)的一部分，使位于刀片的服务器和集群中。在美国，政府计划，例如高级模拟和计算计划(ASC)计划(以前称为加速战略计算启动或 ASCI)促进了这些机器的设计，从而产生了一系列越来越强大的一系列功能 - A-Kind Mpps 的成本为 5000 万至 1 亿美元。如今，许多基本上是对称多处理器(SMP)的较低成本簇(请参阅[pfister \ [1998 \]](#_ bookmark667)和[sterling \ [2001 \]](#\_bookmark678)(#_ bookmark678)(有关聚类的两个观点))。实际上，在 2005 年，近 75％的前 500 个超级计算机是群集。但是，每一代 MPP 甚至群集的设计都会推动与连接网络研究的前进，以面对由于剪切大小和其他缩放因素而引起的新问题。例如，基于源的路由(路由的模拟形式)不能很好地扩展到大型系统。同样，随着网络大小的增加，肥大的树需要越来越长的链接，这导致 IBM 蓝色基因/L 设计师采用带有分布式路由的 3D 圆环网络，可以是

implemented with bounded-length links.

> 通过有限长度链接实现。

### Storage Area Networks

> ###存储区网络

System area networks were originally designed for a single room or single floor (thus their distances are tens to hundreds of meters) and were for use in MPPs and clusters. In the intervening years, the acronym SAN has been co-opted to also mean storage area networks, whereby networking technology is used to connect storage devices to compute servers. Today, many refer to “storage” when they say SAN. The most widely used SAN example in 2006 was Fibre Channel (FC), which comes in many varieties, including various versions of Fibre Channel Arbitrated Loop (FC-AL) and Fibre Channel Switched (FC-SW). Not only are disk arrays attached to servers via FC links, but there are even some disks with FC links attached to switches so that storage area networks can enjoy the benefits of greater bandwidth and interconnectivity of switching.

> 系统区域网络最初是为单室或单层设计的(因此它们的距离是数十万至百米)，用于 MPP 和集群。在随后的几年中，首字母缩写 SAN 已被选为平均存储区域网络，从而将网络技术用于连接存储设备以计算服务器。今天，许多人在说 san 时指的是“存储”。2006 年使用最广泛的 SAN 示例是纤维通道(FC)，它有许多品种，包括各种版本的光纤通道仲裁环(FC-AL)和光纤通道切换(FC-SW)。不仅通过 FC 链接连接到服务器上的磁盘阵列，而且甚至还有一些带有 FC 链接的磁盘，因此存储区域网络可以享受更大的带宽和交换机互连的好处。

In October 2000, the InfiniBand Trade Association announced the version 1.0 specification of InfiniBand \[[InfiniBand Trade Association 2001](#_bookmark659)\]. Led by Intel, HP, IBM, Sun, and other companies, it was targeted to the high-performance

> 2000 年 10 月，Infiniband 贸易协会宣布了 1.0 版 Infiniband \ [[Infiniband Trade Association 2001](#\_ bookmark659)\]。在英特尔，惠普，IBM，Sun 和其他公司的领导下，它针对高性能

computing market as a successor to the PCI bus by having point-to-point links and switches with its own set of protocols. Its characteristics are desirable potentially both for system area networks to connect clusters and for storage area networks to connect disk arrays to servers. Consequently, it has had strong competition from both fronts. On the storage area networking side, the chief competition for Infini- Band has been the rapidly improving Ethernet technology widely used in LANs. The Internet Engineering Task Force proposed a standard called iSCSI to send SCSI commands over IP networks \[[Satran et al. 2001](#_bookmark673)\]. Given the cost advantages of the higher-volume Ethernet switches and interface cards, Gigabit Ethernet dom- inates the low-end and medium range for this market. What’s more, the slow intro- duction of InfiniBand and its small market share delayed the development of chip sets incorporating native support for InfiniBand. Therefore, network interface cards had to be plugged into the PCI or PCI-X bus, thus never delivering on the promise of replacing the PCI bus.

> 通过具有自己的一组协议的点对点链接和开关来计算 PCI 总线的后继产品。对于系统区域网络而言，它的特性是可取的，可以连接簇和存储区域网络将磁盘阵列连接到服务器。因此，这两个方面都有激烈的竞争。在存储区域网络方面，Infini-Band 的主要竞争是在 LAN 中广泛使用的快速改进的以太网技术。互联网工程工作组提出了一个名为 ISCSI 的标准，以通过 IP 网络发送 SCSI 命令\ [[Satran 等。2001](#\_ bookmark673)\]。鉴于高量以太网开关和接口卡的成本优势，千兆以太网 dom-intes intes thit dom-Inates th 这个市场的低端和中等范围。更重要的是，Infiniband 及其较小的市场份额的缓慢介绍延迟了筹码集合，融合了对 Infiniband 的本地支持。因此，必须将网络接口卡插入 PCI 或 PCI-X 总线中，因此永远不会承诺更换 PCI 总线。

It was another I/O standard, PCI-Express, that finally replaced the PCI bus. Like InfiniBand, PCI-Express implements a switched network but with point- to-point serial links. To its credit, it maintains software compatibility with the PCI bus, drastically simplifying migration to the new I/O interface. Moreover, PCI-Express benefited significantly from mass market production and has found application in the desktop market for connecting one or more high-end graphics cards, making gamers very happy. Every PC motherboard now implements one or more 16x PCI-Express interfaces. PCI-Express absolutely dominates the I/O interface, but the current standard does not provide support for interprocessor communication.

> 这是另一个 I/O 标准 PCI-Express，最终取代了 PCI 总线。像 Infiniband 一样，PCI-Express 实现了开关网络，但具有点要点串行链接。值得赞扬的是，它保持了与 PCI 总线的软件兼容性，从而大大简化了迁移到新的 I/O 接口。此外，PCI-Express 从大众市场生产中受益匪浅，并在台式机市场中发现了连接一张或多张高端图形卡的应用，使游戏玩家非常高兴。现在，每个 PC 主板都实现一个或多个 16 倍 PC-Express 接口。PC-Express 绝对主导 I/O 接口，但是当前的标准并未提供对处理器通信的支持。

Yet another standard, Advanced Switching Interconnect (ASI), may emerge as a complementary technology to PCI-Express. ASI is compatible with PCI-Express, thus linking directly to current motherboards, but it also implements support for interprocessor communication as well as I/O. Its defenders believe that it will even- tually replace both SANs and LANs with a unified network in the data center mar- ket, but ironically this was also said of InfiniBand. The interested reader is referred to [Pinkston et al. \[2003\]](#_bookmark671) for a detailed discussion on this. There is also a new disk interface standard called Serial Advanced Technology Attachment (SATA) that is replacing parallel Integrated Device Electronics (IDE) with serial signaling tech- nology to allow for increased bandwidth. Most disks in the market use this new interface, but keep in mind that Fibre Channel is still alive and well. Indeed, most of the promises made by InfiniBand in the SAN market were satisfied by Fibre Channel first, thus increasing their share of the market.

> 另一个标准的高级切换互连(ASI)可能会成为 PCI-Express 的补充技术。ASI 与 PCI-Express 兼容，因此直接链接到当前的主板，但也实现了对处理器通信以及 I/O 的支持。它的捍卫者认为，它将通过数据中心的统一网络均匀地取代 SANS 和 LAN，但具有讽刺意味的是，这也被认为是 Infiniband。感兴趣的读者被称为[Pinkston 等人。\ [2003 \]](#\_ bookmark671)有关此的详细讨论。还有一个称为串行高级技术附件(SATA)的新磁盘接口标准，它正在用串行信号技术替换平行的集成设备电子(IDE)，以增加带宽。市场上的大多数磁盘都使用此新界面，但请记住，光纤频道仍然活着和良好。确实，Infiniband 在 SAN 市场中做出的大多数承诺首先满足了 Fiber 频道，从而增加了市场的份额。

Some believe that Ethernet, PCI-Express, and SATA have the edge in the LAN, I/O interface, and disk interface areas, respectively. But the fate of the remaining storage area networking contenders depends on many factors. A won- derful characteristic of computer architecture is that such issues will not remain endless academic debates, unresolved as people rehash the same arguments repeat- edly. Instead, the battle is fought in the marketplace, with well-funded and talented groups giving their best efforts at shaping the future. Moreover, constant changes to technology reward those who are either astute or lucky. The best combination of

> 有些人认为，以太网，PCI-Express 和 SATA 分别具有 LAN，I/O 接口和磁盘接口区域的优势。但是其余的存储区域网络竞争者的命运取决于许多因素。计算机架构的一个胜任特征是，此类问题不会保持无尽的学术辩论，因为人们重复了同样的论点，因此无法解决。取而代之的是，这场战斗是在市场上进行的，资金丰富且才华横溢的团体尽了最大的努力来塑造未来。此外，技术的不断变化奖励那些精明或幸运的人。最好的组合

technology and follow-through has often determined commercial success. Time will tell us who will win and who will lose, at least for the next round!

> 技术和跟进经常确定商业成功。时间会告诉我们谁将获胜，谁将输掉谁，至少在下一轮比赛中！

### On-Chip Networks

> ###片网络

Relative to the other network domains, on-chip networks are in their infancy. As recently as the late 1990s, the traditional way of interconnecting devices such as caches, register files, ALUs, and other functional units within a chip was to use dedicated links aimed at minimizing latency or shared buses aimed at simplicity. But with subsequent increases in the volume of interconnected devices on a single chip, the length and delay of wires to cross a chip, and chip power consumption, it has become important to share on-chip interconnect bandwidth in a more struc- tured way, giving rise to the notion of a network on-chip. Among the first to rec- ognize this were Agarwal \[[Waingold et al. 1997](#_bookmark683)\] and Dally \[[Dally 1999; Dally and](#_bookmark649) [Towles 2001](#_bookmark649)\]. They and others argued that on-chip networks that route packets allow efficient sharing of burgeoning wire resources between many communica- tion flows and also facilitate modularity to mitigate chip-crossing wire delay prob- lems identified by [Ho, Mai, and Horowitz \[2001\]](#_bookmark657). Switched on-chip networks were also viewed as providing better fault isolation and tolerance. Challenges in designing these networks were later described by [Taylor et al. \[2005\]](#_bookmark680), who also proposed a 5-tuple model for characterizing the delay of OCNs. A design process for OCNs that provides a complete synthesis flow was proposed by [Bertozzi et al.](#_bookmark644) [\[2005\]](#_bookmark644). Following these early works, much research and development has gone into on-chip network design, making this a very hot area of microarchitecture activity.

> 相对于其他网络域，芯片网络仍处于起步阶段。就在 1990 年代后期，芯片中互连设备的传统方式(例如，寄存器文件，Alus 和其他功能单元)是使用旨在最大程度地减少旨在简单性的延迟或共享公共汽车的专用链接。但是，随后在单个芯片上互连设备的体积增加，电线的长度和延迟越过芯片和芯片功率消耗，以更具结构的方式共享芯片互连带宽已变得很重要，引起网络上网络的概念。在第一个重新认可的是 agarwal \ [[Waingold 等人。1997](#_ bookmark683)\]和 dally \ [[Dally 1999;dally and](#_ bookmark649)[Towles 2001](#_ bookmark649)\]。他们和其他人认为，路由包装包的芯片网络允许在许多通信流之间有效地共享新兴的电线资源，并促进模块化，以减轻芯片跨线延迟延迟可能性，由[HO，MAI 和 HOROWITZ \ [HOROWITZ \ [HOROWITZ \ [2001 \]](#_ bookmark657)。切换片上网络还被视为提供更好的故障隔离和公差。[Taylor 等人都会描述设计这些网络的挑战。\ [2005 \]](#_ bookmark680)，他还提出了一个 5 翼型模型来表征 OCN 的延迟。[Bertozzi 等人](#_ bookmark644)[\ [2005 \]](#_ bookmark644)提出了提供完整合成流的 OCN 的设计过程。在这些早期工作之后，片上网络设计的许多研发已经成为了微观构造活动的热门领域。

Multicore and tiled designs featuring on-chip networks have become very pop- ular since the turn of the millennium. [Pinkston and Shin \[2005\]](#_bookmark669) provide a survey of on-chip networks used in early multicore/tiled systems. Most designs exploit the reduced wiring complexity of switched OCNs as the paths between cores/tiles can be precisely defined and optimized early in the design process, thus enabling improved power and performance characteristics. With typically tens of thousands of wires attached to the four edges of a core or tile as “pinouts,” wire resources can be traded off for improved network performance by having very wide channels over which data can be sent broadside (and possibly scaled up or down according to the power management technique), as opposed to serializing the data over fixed narrow channels.

> 自千年之交以来，具有片上网络的多功能和瓷砖设计已经变得非常流行。[Pinkston and Shin \ [2005 \]](#\_ bookmark669)提供了对早期多核/瓷砖系统中使用的片上网络的调查。大多数设计都利用开关 OCN 的接线复杂性降低，因为可以在设计过程的早期进行精确定义和优化核心/瓷砖之间的路径，从而提高了功率和性能特性。通常，核心或瓷砖的四个边缘附有数以万计的电线作为“引脚”，可以通过拥有非常广泛的渠道来交换电线资源以改善网络性能，从而可以将数据发送到广泛的方面(并且可能扩大或扩展，也可以扩展。根据电源管理技术)，而不是通过固定狭窄的频道序列化数据。

Rings, meshes, and crossbars are straightforward to implement in planar chip technology and routing is easily defined on them, so these were popular topolog- ical choices in early switched OCNs. It will be interesting to see if this trend con- tinues in the future when several tens to hundreds of heterogeneous cores and tiles will likely be interconnected within a single chip, possibly using 3D integration technology. Considering that processor microarchitecture has evolved signifi- cantly from its early beginnings in response to application demands and technolog- ical advancements, we would expect to see vast architectural improvements to on- chip networks as well.

> 戒指，网眼和横梁在平面芯片技术中很容易实现，并且在它们上很容易定义路由，因此这些是早期切换的 OCN 中流行的拓扑选择。有趣的是，将来这种趋势是否存在，当时几十至数百个异质的核心和瓷砖可能会在单个芯片中互连，可能会使用 3D 集成技术。考虑到处理器微体系结构已从其早期开始，以响应应用程序需求和技术进步而显着发展，我们期望看到对芯片网络的巨大建筑改进。
